<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>경비 계산</title>
  <link rel="stylesheet" href="../css/common.css">
  <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
</head>
<body class="non-scroll-x ">
  <div class="sh-body">
    <div class="calc">
      경비 계산하기
      <div class="calc__img">
        <img src="../img/ico_calc.png" alt="경비 계산">
      </div>
    </div>
      
    <div class="todo">
      <div class="todo__item">
        <strong class="todo__title">지출 입력</strong>
        <ul class="todo__body" style="padding-top: 10px">
          <li class="todo__cont">
            <input id="text1" class="todo__calc" type="text" placeholder="항목명">
            <input id="number1" class="todo__calc" type="number" placeholder="금액">
            <input id="save" type="button" class="todo__calc-button" value="저장">
          </li>
          <!-- <li class="todo__cont">
            <input class="todo__calc" type="text" placeholder="항목명">
            <input class="todo__calc" type="text" placeholder="금액">
            <input type="button" class="todo__calc-button" value="저장">
          </li> -->
        </ul>
      </div>

      <div class="todo__item calc-output">
        <strong class="todo__title">사용한 경비 리스트</strong>
        <ul id="output-list" class="todo__body">
          <!-- <li class="todo__cont" id="test">
            <strong class="todo__cont-tit">항목명</strong>
            <div class="todo__cont-text">5000원</div>
            <input type="button" class="delete-btn" value="삭제" />
          </li> -->
          <!-- <li class="todo__cont"></li> -->
        </ul>

        <!-- total -->
        <!-- <div class="todo__foot">
          <ul>
            <li class="todo__cont">
              <strong class="todo__cont-tit">총합계</strong>
              <div id="total" class="todo__cont-text">원</div>
            </li>
            <li class="todo__cont">
              <strong class="todo__cont-tit">남은경비</strong>
              <div class="todo__cont-text">원</div>
            </li>
          </ul>
        </div> -->
      </div>
    </div>
  </div>
  <div class="button-wrap">
    <a class="o-button o-button--rain" href="./rainyday_cafe.html"><span class="sr-only">비가올 때</span></a>
    <a class="o-button o-button--list" href="./list.html"><span class="sr-only">리스트</span></a>
    <a class="o-button o-button--home" href="../index.html"><span class="sr-only">홈으로</span></a>
  </div>
  
  <script type="text/javascript" src="/js/common.js"></script>

  <script type="text/javascript">
      
    var list = document.getElementById('output-list');
    var save_btn = document.getElementById('save');
    var delete_btn = document.getElementsByClassName('delete-btn');
    var items = document.querySelectorAll('#output-list li');
    
    save_btn.addEventListener('click', function(e){
      var text_value = save_btn.previousSibling.previousSibling.previousSibling.previousSibling.value;
      var number_value = save_btn.previousSibling.previousSibling.value;
      var newItem = document.createElement("li");
      var htmlTemplate = '';

      htmlTemplate += '<strong class="todo__cont-tit">';
      htmlTemplate += text_value;
      htmlTemplate += '</strong>';
      htmlTemplate += '<div class="todo__cont-text">';
      htmlTemplate += number_value + '원';
      htmlTemplate += '</div>';
      // htmlTemplate += '<input type="button" class="delete-btn" value="삭제" />';

      totalTemplate += total_sum + '원';
      div.innerHTML = totalTemplate

      newItem.setAttribute("id", items.length);
      newItem.setAttribute("class", "todo__cont");
      newItem.innerHTML = htmlTemplate;
      list.appendChild(newItem);

      localStorage.setItem('outputItems', list.innerHTML);
      localStorage.setItem('total', div.innerHTML);
    }, false);
      
    var saved = localStorage.getItem('outputItems');
      if (saved) {
        list.innerHTML = saved;
      }

    // 삭제 기능
    // for(i=0; i<delete_btn.length; i++){
    //   delete_btn[i].addEventListener('click', function(){
    //     var target = this.parentNode;

    //     list.removeChild(target);
    //   })
    // } 
  </script>
</body>
</html>